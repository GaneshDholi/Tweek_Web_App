<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Tweek App</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

</head>

<body>
  <div class="calendar-container">
    <div id="calendarModal" class="modal">
      <div class="modal-content">
        <aside class="side-calendar">
          <div class="calendar-header">
            <h2 id="year-title">2025</h2>
            <button id="prev">❮</button>
            <button id="next">❯</button>
          </div>
          <div class="year-calendar" id="year-calendar"></div>
        </aside>
      </div>
    </div>
    <main class="weekly-view">
      <h1 id="openCalendarBtn" class="monthwithyear">August 2025</h1>
      <nav class="calendar-nav">
        <!-- This button is the main trigger for login and profile -->
        <div id="auth-trigger" class="circle">
          <!-- Content changes based on login state -->
        </div>

        <div class="circle menu">⋮</div>
        <div id="prevweek" class="circle dark">&#x2039;</div>
        <div id="nextweek" class="circle dark">&#x203A;</div>

        <!-- Profile Dropdown Menu (Initially Hidden) -->
        <div id="profile-dropdown" class="hidden">
          <div class="dropdown-header">
            <div class="initials-circle-large" id="dropdown-initials"></div>
            <div class="user-name" id="dropdown-fullname"></div>
          </div>
          <div class="dropdown-section">
            <div class="calendar-item">
              <span>My calendar</span>
              <button class="settings-btn">Settings</button>
            </div>
            <button class="new-calendar-btn">New calendar</button>
          </div>
          <div class="dropdown-footer">
            <a href="#" class="footer-link">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
              Account
            </a>
            <button id="logout-button" class="footer-link">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
              </svg>
              Log out
            </button>
          </div>
        </div>
      </nav>
    </main>
  </div>

  <div class="Main-content">
    <div id="weekly-view" class="calendar-ui"></div>
  </div>

  <div id="todo-section" style="display: none;">
    <h3 id="todo-date"></h3>
    <input type="text" id="todo-input" placeholder="Add a to-do" />
    <button onclick="addTodo()">Add</button>
    <ul id="todo-list"></ul>
  </div>

  <!-- edit modal -->
  <div id="modalOverlay"></div>

  <div id="editModal">
    <div class="modal-header">
      <span class="modal-date">
        <span class="calendar-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="13" fill="none">
            <path fill="currentColor"
              d="M3.75.5a.57.57 0 0 1 .563.563V2h3.375v-.938c0-.304.234-.562.562-.562a.57.57 0 0 1 .563.563V2h.937c.82 0 1.5.68 1.5 1.5V11c0 .844-.68 1.5-1.5 1.5h-7.5A1.48 1.48 0 0 1 .75 11V3.5c0-.82.656-1.5 1.5-1.5h.938v-.938c0-.304.234-.562.562-.562ZM10.125 5h-8.25v6c0 .21.164.375.375.375h7.5a.385.385 0 0 0 .375-.375V5Zm-6.75 1.5h2.25c.188 0 .375.188.375.375v2.25c0 .21-.188.375-.375.375h-2.25A.37.37 0 0 1 3 9.125v-2.25c0-.188.164-.375.375-.375Z">
            </path>
          </svg></span>
        <span class="calendar-date-text"></span>
      </span>
      <div class="modal-actions">
        <button title="Delete" data-tooltip="Delete"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
            fill="none">
            <path fill="currentColor"
              d="M9.898 6.625c-.07 0-.117.047-.164.094l-.445.656h3.399l-.446-.656a.197.197 0 0 0-.164-.094h-2.18Zm4.149.75H15.688a.57.57 0 0 1 .562.563.555.555 0 0 1-.563.562h-.28l-.563 7.617a1.489 1.489 0 0 1-1.5 1.383H8.633c-.797 0-1.43-.586-1.5-1.383L6.57 8.5h-.258a.542.542 0 0 1-.562-.563c0-.304.234-.562.563-.562H7.93l.867-1.29A1.344 1.344 0 0 1 9.898 5.5h2.18c.445 0 .867.234 1.102.586l.867 1.289ZM14.28 8.5H7.695l.563 7.547a.379.379 0 0 0 .375.328h4.71c.188 0 .352-.14.376-.328L14.28 8.5Z">
            </path>
          </svg></button>
        <button title="Repeate" data-tooltip="Repeate"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
            fill="none">
            <path fill="currentColor"
              d="M16.063 10.75h-3.375a.542.542 0 0 1-.563-.563c0-.304.234-.562.563-.562h2.109l-.633-.75c-.773-.914-1.898-1.5-3.164-1.5A4.116 4.116 0 0 0 6.875 11.5 4.101 4.101 0 0 0 11 15.625c.914 0 1.781-.305 2.46-.82a.564.564 0 0 1 .798.117c.187.258.14.61-.117.797A5.202 5.202 0 0 1 11 16.75a5.241 5.241 0 0 1-5.25-5.25A5.256 5.256 0 0 1 11 6.25c1.617 0 3.07.75 4.031 1.898l.469.563V6.812c0-.304.234-.562.563-.562a.57.57 0 0 1 .562.563v3.375a.555.555 0 0 1-.563.562Z">
            </path>
          </svg></button>
        <button id="taskCircle" title="Select Color" data-tooltip="Select color"><svg xmlns="http://www.w3.org/2000/svg"
            width="22" height="22" fill="none">
            <path fill="currentColor"
              d="M15.875 11.5c0-1.734-.938-3.328-2.438-4.219a4.893 4.893 0 0 0-4.874 0A4.871 4.871 0 0 0 6.124 11.5a4.88 4.88 0 0 0 2.438 4.242c1.5.867 3.351.867 4.874 0 1.5-.89 2.438-2.484 2.438-4.242ZM5 11.5a5.955 5.955 0 0 1 3-5.18 5.97 5.97 0 0 1 6 0 6.004 6.004 0 0 1 3 5.18 6.014 6.014 0 0 1-3 5.203 5.97 5.97 0 0 1-6 0A5.965 5.965 0 0 1 5 11.5Z">
            </path>
          </svg></button>
        <button title="Remind" data-tooltip="Remind"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
            fill="none">
            <path fill="currentColor"
              d="M11 5.5c.398 0 .75.352.75.75v.469c1.71.328 3 1.851 3 3.656v.61c0 1.054.352 2.085 1.008 2.93l.351.42c.141.188.164.423.07.61a.547.547 0 0 1-.491.305H6.312a.556.556 0 0 1-.515-.305.582.582 0 0 1 .07-.61l.352-.42c.656-.845 1.031-1.876 1.031-2.93v-.61a3.724 3.724 0 0 1 3-3.656V6.25c0-.398.328-.75.75-.75Zm0 2.25a2.636 2.636 0 0 0-2.625 2.625v.61a5.736 5.736 0 0 1-.938 3.14h7.102a5.714 5.714 0 0 1-.914-3.14v-.61c0-1.43-1.195-2.625-2.625-2.625ZM12.5 16c0 .398-.164.797-.445 1.078A1.469 1.469 0 0 1 11 17.5c-.398 0-.797-.14-1.078-.422-.281-.281-.422-.68-.422-1.078h3Z">
            </path>
          </svg></button>
        <button class="Sharetask" data-tooltip="Share task"><svg xmlns="http://www.w3.org/2000/svg" width="22"
            height="22" fill="none">
            <path fill="currentColor"
              d="M4.139 16.5c.287 0 .524-.213.61-.487a3.09 3.09 0 0 1 2.948-2.168h2.157a3.09 3.09 0 0 1 2.945 2.159c.088.278.33.496.623.496.348 0 .623-.304.534-.641a4.24 4.24 0 0 0-4.102-3.152H7.697a4.21 4.21 0 0 0-4.084 3.165c-.085.33.184.628.526.628Z">
            </path>
            <path fill="currentColor" fill-rule="evenodd"
              d="M7.128 7.586c.355-.569.972-.948 1.66-.948.663 0 1.28.38 1.635.948a1.93 1.93 0 0 1 0 1.897 1.91 1.91 0 0 1-1.636.948 1.92 1.92 0 0 1-1.66-.948 1.93 1.93 0 0 1 0-1.897Zm-.972 2.466a3.017 3.017 0 0 0 2.631 1.517 3.007 3.007 0 0 0 2.608-1.517 3.02 3.02 0 0 0 0-3.035C10.85 6.093 9.854 5.5 8.787 5.5c-1.09 0-2.086.593-2.631 1.517a3.019 3.019 0 0 0 0 3.035Zm9.269 1.327v1.518c0 .331.237.569.569.569a.562.562 0 0 0 .569-.57V11.38h1.517a.562.562 0 0 0 .57-.569.577.577 0 0 0-.57-.569h-1.517V8.724a.577.577 0 0 0-.569-.569.562.562 0 0 0-.569.57v1.516h-1.517a.562.562 0 0 0-.57.57c0 .331.238.568.57.568h1.517Z"
              clip-rule="evenodd"></path>
          </svg></button>
        <button title="More" data-tooltip="More"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
            fill="none">
            <path fill="currentColor"
              d="M15.875 11.5c0 .422-.234.773-.563.984a1.08 1.08 0 0 1-1.124 0 1.122 1.122 0 0 1 0-1.945 1.079 1.079 0 0 1 1.124 0c.329.211.563.563.563.961Zm-3.75 0c0 .422-.234.773-.563.984a1.08 1.08 0 0 1-1.124 0 1.122 1.122 0 0 1 0-1.945 1.079 1.079 0 0 1 1.124 0c.329.211.563.563.563.961ZM7.25 12.625c-.422 0-.773-.21-.984-.563a1.079 1.079 0 0 1 0-1.124c.21-.329.562-.563.984-.563.398 0 .75.234.96.563.212.351.212.796 0 1.124-.21.352-.562.563-.96.563Z">
            </path>
          </svg></button>
      </div>
    </div>
    <input type="color" id="colorPicker" style="display:none;">

    <div class="modal-content2">
      <input id="taskTitle" class="taskTitle" type="text" placeholder="Task title..." />

      <div class="modal-toolbar">
        <button id="btnheading"><i class="fa fa-heading"></i></button>
        <button id="btnbold"><i class="fa fa-bold"></i></button>
        <button id="btnlist"><i class="fa fa-list"></i></button>
        <button id="btnstream"><i class="fa fa-stream"></i></button>
        <button id="link"><i class="fa fa-link"></i></button>
      </div>

      <textarea id="taskNotes" style="resize: none;" placeholder="Add some extra notes here..."></textarea>
      <input type="text" class="subtask" placeholder="➕   Add subtask..." disabled />

    </div>
  </div>

  <!-- OTP Modal -->
  <div id="otp-modal-backdrop" class="modal-backdrop hidden">
    <div class="modal-content">
      <div id="authFlow">
        <div class="modal-header">
          <h3>Welcome!</h3>
          <button id="close-modal-btn" class="close-btn">&times;</button>
        </div>
        <form id="requestForm">
          <div id="nameFieldsContainer" class="name-fields">
            <input type="text" id="firstNameInput" placeholder="First Name" required>
            <input type="text" id="lastNameInput" placeholder="Last Name" required>
          </div>
          <input type="tel" id="phoneInput" placeholder="Phone (e.g., +919876543210)" required>
          <div class="purpose-group">
            <label><input type="radio" name="purpose" value="register" checked> Register</label>
            <label><input type="radio" name="purpose" value="login"> Login</label>
          </div>
          <button type="submit" id="requestBtn" class="primary-action-btn">Request OTP</button>
        </form>
        <form id="verifyForm" class="hidden">
          <input type="text" id="otpInput" placeholder="Enter OTP" required>
          <button type="submit" class="primary-action-btn">Verify & Continue</button>
        </form>
        <div id="messageArea"></div>
      </div>
    </div>
  </div>


  <script src="script.js"></script>
</body>

</html>